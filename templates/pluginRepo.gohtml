<!DOCTYPE html>
{{template "head" .}}

<body>

  {{template "heading" .}}

  {{/* Since we know we will need to access some strings within a ranged loop on this page, */}}
  {{/* We can define global values for the strings here */}}
  {{ $scopedTargetStrings := .TargetStrings }}
  {{ $scopedDefaultStrings := .DefaultStrings }}

  <div class="updatePluginButtonContainer">
    <div class="updatePluginButton">
      <button onclick="updatePlugin()" class="simple-button btn-create grow-shadow-hover">
        {{ or
          (index .TargetStrings "i18n-buttonUpdateAvailablePlugins")
          (index .DefaultStrings "i18n-buttonUpdateAvailablePlugins")
        }}
      </button>
    </div>
  </div>

  <div class="seperator"> <h2>
    {{ or
      (index .TargetStrings "i18n-headerInstalled")
      (index .DefaultStrings "i18n-headerInstalled")
    }}
  </h2></div>

  <div class="bar-list">
    {{range .Data.Installed.PluginItem}}
      <div class="bar-list-bars">
        <div class="plugin-item">
          <div class="plugin-icon">
            {{if .Icon.Available}}
              {{if eq .Icon.Type "image"}}
                <img src="{{.Icon.Source}}" alt="Icon specified by Plugin Creator to represent their Plugin" style="width: 10px;">
              {{end}}
              {{if eq .Icon.Type "raw"}}
                {{if eq .Icon.Style "GreenCircle"}}
                  <span style="height: 25px; width: 25px; border-radius: 50%; display: inline-block; background-color: green;">
                {{else}}
                  <span>
                {{end}}
                {{if eq .Icon.Symbol "Checkmark"}}
                  &#10004;
                {{end}}
                </span>
              {{end}}
            {{end}}
          </div>
          <div class="plugin-title">
            <a href="{{.InfoLink}}">{{.FriendlyName}}</a>
          </div>
          <div class="plugin-version">
            {{ or
              (index $scopedTargetStrings "i18n-pluginRepoVersion")
              (index $scopedDefaultStrings "i18n-pluginRepoVersion")
            }}: {{ .Version }}
          </div>
          <div class="plugin-description">
            {{.Description}}
          </div>
          <div class="plugin-author">
            &#64; {{.Author}}
          </div>
          <div class="plugin-license">
            {{ or
              (index $scopedTargetStrings "i18n-pluginRepoLicense")
              (index $scopedDefaultStrings "i18n-pluginRepoLicense")
            }}:
            {{.License}}
          </div>
          <div class="plugin-action">
            <div class="btn-destroy simple-button grow-shadow-hover" onclick="uninstallPlugin({{.Name}})">
              <img src="/assets/images/minus-circle.svg" alt="Minus Sign Icon Indicating Button to Uninstall Plugin">
            </div>
          </div>
        </div>
      </div>
    {{end}}
  </div>

  <div class="seperator"> <h2>
    {{ or
      (index .TargetStrings "i18n-headerAvaialble")
      (index .DefaultStrings "i18n-headerAvaialble")
    }}
  </h2></div>

  <div class="bar-list">
    {{range .Data.Available.AvailablePluginItem}}
    <div class="bar-list-bars">
      <div class="plugin-item">
        <div class="plugin-icon">
          {{if .Icon.Available}}
            {{if eq .Icon.Type "image"}}
              <img src="{{.Icon.Source}}" alt="Icon specified by Plugin Creator to represent their Plugin" style="max-width: 600%">
            {{end}}
            {{if eq .Icon.Type "raw"}}
              {{if eq .Icon.Style "GreenCircle"}}
                <span style="height: 25px; width: 25px; border-radius: 50%; display: inline-block; background-color: green;">
              {{else}}
                <span>
              {{end}}
              {{if eq .Icon.Symbol "Checkmark"}}
                &#10004;
              {{end}}
              </span>
            {{end}}
          {{end}}
        </div>
        <div class="plugin-title">
          <a href="{{.InfoLink}}">{{.FriendlyName}}</a>
        </div>
        <div class="plugin-version">
          {{ or
            (index $scopedTargetStrings "i18n-pluginRepoVersion")
            (index $scopedDefaultStrings "i18n-pluginRepoVersion")
          }}: {{ .Version }}
        </div>
        <div class="plugin-description">
          {{.Description}}
        </div>
        <div class="plugin-author">
          &#64; {{.Author}}
        </div>
        <div class="plugin-license">
          {{ or
            (index $scopedTargetStrings "i18n-pluginRepoLicense")
            (index $scopedDefaultStrings "i18n-pluginRepoLicense")
          }}: {{ .License }}
        </div>
        <div class="plugin-action">
          {{if .Installed}}
          <div class="btn-destroy simple-button grow-shadow-hover" onclick="uninstallPlugin({{.Name}})">
            <img src="/assets/images/minus-circle.svg" alt="Minus Sign Icon Indicating Button to Uninstall Plugin">
          </div>
          {{else}}
          <div class="btn-create simple-button grow-shadow-hover" onclick="installPlugin({{.DownloadLink}}, {{.Name}})">
            <img src="/assets/images/download.svg" alt="Arrow Pointing Down Icon Indicating Button to Install Plugin">
          </div>
          {{end}}
        </div>
      </div>
    </div>
    {{end}}
  </div>

  <div id="dynamicModal" class="modal">
    <div class="modal-content">

    </div>
  </div>

  {{template "footer" .}}

  {{range .JS}}
    <script src="{{ . }}"></script>
  {{end}}
  <script type="module" src="/assets/js/pluginLoad.js"></script>

  {{template "noscript" .}}

</body>
</html>
